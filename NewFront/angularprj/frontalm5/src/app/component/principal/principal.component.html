<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <a routerLink="/addusuarios" class="btn btn-success">
      <i class="bi bi-plus-circle"></i> Agregar Libro
    </a>
  </div>

  <div class="text-center mb-4">
    <h2 class="text-primary fw-bold">游닄 Biblioteca</h2>
    <p class="text-muted">Explora los libros disponibles</p>
  </div>

  <div class="row">
    <!-- 游댳 Mostrar solo los libros de la p치gina actual -->
    <div class="col-md-4 mb-4" *ngFor="let l of librosPaginados">
      <div class="card shadow-sm h-100 border-0">
        <img
          *ngIf="l.fotografia"
          [src]="'data:image/jpeg;base64,' + l.fotografia"
          alt="Foto"
          class="card-img-top"
          style="height: 220px; object-fit: cover; border-radius: 8px 8px 0 0"
        />
        <div class="card-body">
          <h5 class="card-title text-primary">{{ l.titulo }}</h5>
          <p class="card-text mb-1"><strong>ISBN:</strong> {{ l.isbn }}</p>
          <p class="card-text mb-1"><strong>A침o:</strong> {{ l.anioPublicacion }}</p>
          <p class="card-text mb-1"><strong>Serie:</strong> {{ l.serie || 'N/A' }}</p>
          <p class="card-text mb-3">
            <strong>Disponibles:</strong> {{ l.ejemplaresDisponibles }}
          </p>
          <div class="d-flex justify-content-between">
            <button class="btn btn-sm btn-outline-warning" (click)="selectlibro(l)">
              <i class="bi bi-pencil"></i> Editar
            </button>
            <button class="btn btn-sm btn-outline-danger" (click)="deleteLibro(l)">
              <i class="bi bi-trash"></i> Eliminar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 游댳 Controles de paginaci칩n Bootstrap -->
  <nav aria-label="Paginaci칩n de libros" class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="paginaActual === 1">
        <button class="page-link" (click)="cambiarPagina(paginaActual - 1)">Anterior</button>
      </li>

      <li
        class="page-item"
        *ngFor="let p of totalPaginasArray"
        [class.active]="p === paginaActual"
      >
        <button class="page-link" (click)="cambiarPagina(p)">{{ p }}</button>
      </li>

      <li class="page-item" [class.disabled]="paginaActual === totalPaginas">
        <button class="page-link" (click)="cambiarPagina(paginaActual + 1)">Siguiente</button>
      </li>
    </ul>
  </nav>
</div>

<!--
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <div class="d-flex gap-2">-->
      <!--<a *ngIf="puedeAlta" routerLink="/addusuarios" class="btn btn-success">-->
      <!--
        <a routerLink="/addusuarios" class="btn btn-success">
        <i class="bi bi-plus-circle"></i>Agregar Libro
      </a>
    </div>
  </div>
  <div class="text-center mb-4">
    <h2 class="text-primary fw-bold">游닄 Biblioteca</h2>
    <p class="text-muted">Explora los libros disponibles</p>


  </div>

  <div class="row">
    <div class="col-md-3 mb-4" *ngFor="let l of libros">
      <div class="card shadow-sm h-100 border-0">
        <img
          *ngIf="l.fotografia"
          [src]="'data:image/jpeg;base64,' + l.fotografia"
          alt="Foto"
          class="card-img-top"
          style="
            height: 220px;
            object-fit: cover;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
          "
        />
        <div class="card-body">
          <h5 class="card-title text-primary">{{ l.titulo }}</h5>
          <p class="card-text mb-1"><strong>ISBN:</strong> {{ l.isbn }}</p>
          <p class="card-text mb-1">
            <strong>A침o:</strong> {{ l.anioPublicacion }}
          </p>
          <p class="card-text mb-1">
            <strong>Serie:</strong> {{ l.serie || "N/A" }}
          </p>
          <p class="card-text mb-3">
            <strong>Disponibles:</strong> {{ l.ejemplaresDisponibles }}
          </p>
          <div class="d-flex justify-content-between">
            <button
              class="btn btn-sm btn-outline-warning"
              (click)="selectlibro(l)"
            >
              <i class="bi bi-pencil"></i> Editar
            </button>
            <button
              class="btn btn-sm btn-outline-danger"
              (click)="deleteLibro(l)"
            >
              <i class="bi bi-trash"></i> Eliminar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
-->
